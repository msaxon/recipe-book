var ln=Object.defineProperty;var dn=(e,o,t)=>o in e?ln(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t;var W=(e,o,t)=>dn(e,typeof o!="symbol"?o+"":o,t);import{s as un,a as fn,b as hn,c as pn,r as gn,n as Rt,g as mn,E as En,d as yn,e as bn,f as Nn,t as Pn,h as Tn,p as An,N as Sn,A as wn,i as xn,j as In,k as Cn,l as vn,S as Rn,D as _n,F as On,m as kn,o as $n,q as Fn,u as Vn,v as Ln,w as Mn,x as Wn,y as qn,z as Un,B as Bn,C as Hn,G as zn,H as Xn,I as jn,J as Gn,K as Kn,L as Jn,M as Zn,O as Yn,P as Qn,Q as Dn,R as es,T as ts,U as ns,V as ss,W as rs,X as is,Y as os,Z as as,_ as _t,$ as rt,a0 as cs,a1 as ls,a2 as M,a3 as Ot,a4 as Z,a5 as ds,a6 as kt,a7 as $t,a8 as Ft,a9 as it}from"./index-C7EXniB_.js";const us=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fs=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),hs=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const o=fs.exec(e);if(!o)throw new TypeError("Invalid RFC-3339 date-time value");const[t,u,f,P,i,r,c,s,n]=o,y=un(Vt(u)),h=oe(f,"month",1,12),x=oe(P,"day",1,31),w=ps(y,h,x,{hours:i,minutes:r,seconds:c,fractionalMilliseconds:s});return n.toUpperCase()!="Z"&&w.setTime(w.getTime()-bs(n)),w},ps=(e,o,t,u)=>{const f=o-1;return ms(e,f,t),new Date(Date.UTC(e,f,t,oe(u.hours,"hour",0,23),oe(u.minutes,"minute",0,59),oe(u.seconds,"seconds",0,60),ys(u.fractionalMilliseconds)))},gs=[31,28,31,30,31,30,31,31,30,31,30,31],ms=(e,o,t)=>{let u=gs[o];if(o===1&&Es(e)&&(u=29),t>u)throw new TypeError(`Invalid day for ${us[o]} in ${e}: ${t}`)},Es=e=>e%4===0&&(e%100!==0||e%400===0),oe=(e,o,t,u)=>{const f=fn(Vt(e));if(f<t||f>u)throw new TypeError(`${o} must be between ${t} and ${u}, inclusive`);return f},ys=e=>e==null?0:hn("0."+e)*1e3,bs=e=>{const o=e[0];let t=1;if(o=="+")t=1;else if(o=="-")t=-1;else throw new TypeError(`Offset direction, ${o}, must be "+" or "-"`);const u=Number(e.substring(1,3)),f=Number(e.substring(4,6));return t*(u*60+f)*60*1e3},Vt=e=>{let o=0;for(;o<e.length-1&&e.charAt(o)==="0";)o++;return o===0?e:e.slice(o)};class Ns{async sign(o,t,u){return o}}const Ps=(e,o)=>{for(const t of Object.keys(e)){const u=e[t],f=async function(i,r,c){const s=new u(i);if(typeof r=="function")this.send(s,r);else if(typeof c=="function"){if(typeof r!="object")throw new Error(`Expected http options but got ${typeof r}`);this.send(s,r||{},c)}else return this.send(s,r)},P=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");o.prototype[P]=f}},Lt=e=>{const o="#text";for(const t in e)e.hasOwnProperty(t)&&e[t][o]!==void 0?e[t]=e[t][o]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=Lt(e[t]));return e};var de={},ue={},ot;function Xe(){return ot||(ot=1,function(e){const o=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",t=o+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",u="["+o+"]["+t+"]*",f=new RegExp("^"+u+"$"),P=function(r,c){const s=[];let n=c.exec(r);for(;n;){const y=[];y.startIndex=c.lastIndex-n[0].length;const h=n.length;for(let x=0;x<h;x++)y.push(n[x]);s.push(y),n=c.exec(r)}return s},i=function(r){const c=f.exec(r);return!(c===null||typeof c>"u")};e.isExist=function(r){return typeof r<"u"},e.isEmptyObject=function(r){return Object.keys(r).length===0},e.merge=function(r,c,s){if(c){const n=Object.keys(c),y=n.length;for(let h=0;h<y;h++)s==="strict"?r[n[h]]=[c[n[h]]]:r[n[h]]=c[n[h]]}},e.getValue=function(r){return e.isExist(r)?r:""},e.isName=i,e.getAllMatches=P,e.nameRegexp=u}(ue)),ue}var at;function Mt(){if(at)return de;at=1;const e=Xe(),o={allowBooleanAttributes:!1,unpairedTags:[]};de.validate=function(l,p){p=Object.assign({},o,p);const T=[];let d=!1,E=!1;l[0]==="\uFEFF"&&(l=l.substr(1));for(let a=0;a<l.length;a++)if(l[a]==="<"&&l[a+1]==="?"){if(a+=2,a=u(l,a),a.err)return a}else if(l[a]==="<"){let N=a;if(a++,l[a]==="!"){a=f(l,a);continue}else{let b=!1;l[a]==="/"&&(b=!0,a++);let g="";for(;a<l.length&&l[a]!==">"&&l[a]!==" "&&l[a]!=="	"&&l[a]!==`
`&&l[a]!=="\r";a++)g+=l[a];if(g=g.trim(),g[g.length-1]==="/"&&(g=g.substring(0,g.length-1),a--),!w(g)){let m;return g.trim().length===0?m="Invalid space after '<'.":m="Tag '"+g+"' is an invalid name.",h("InvalidTag",m,S(l,a))}const O=r(l,a);if(O===!1)return h("InvalidAttr","Attributes for '"+g+"' have open quote.",S(l,a));let A=O.value;if(a=O.index,A[A.length-1]==="/"){const m=a-A.length;A=A.substring(0,A.length-1);const _=s(A,p);if(_===!0)d=!0;else return h(_.err.code,_.err.msg,S(l,m+_.err.line))}else if(b)if(O.tagClosed){if(A.trim().length>0)return h("InvalidTag","Closing tag '"+g+"' can't have attributes or invalid starting.",S(l,N));if(T.length===0)return h("InvalidTag","Closing tag '"+g+"' has not been opened.",S(l,N));{const m=T.pop();if(g!==m.tagName){let _=S(l,m.tagStartPos);return h("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+_.line+", col "+_.col+") instead of closing tag '"+g+"'.",S(l,N))}T.length==0&&(E=!0)}}else return h("InvalidTag","Closing tag '"+g+"' doesn't have proper closing.",S(l,a));else{const m=s(A,p);if(m!==!0)return h(m.err.code,m.err.msg,S(l,a-A.length+m.err.line));if(E===!0)return h("InvalidXml","Multiple possible root nodes found.",S(l,a));p.unpairedTags.indexOf(g)!==-1||T.push({tagName:g,tagStartPos:N}),d=!0}for(a++;a<l.length;a++)if(l[a]==="<")if(l[a+1]==="!"){a++,a=f(l,a);continue}else if(l[a+1]==="?"){if(a=u(l,++a),a.err)return a}else break;else if(l[a]==="&"){const m=y(l,a);if(m==-1)return h("InvalidChar","char '&' is not expected.",S(l,a));a=m}else if(E===!0&&!t(l[a]))return h("InvalidXml","Extra text at the end",S(l,a));l[a]==="<"&&a--}}else{if(t(l[a]))continue;return h("InvalidChar","char '"+l[a]+"' is not expected.",S(l,a))}if(d){if(T.length==1)return h("InvalidTag","Unclosed tag '"+T[0].tagName+"'.",S(l,T[0].tagStartPos));if(T.length>0)return h("InvalidXml","Invalid '"+JSON.stringify(T.map(a=>a.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return h("InvalidXml","Start tag expected.",1);return!0};function t(l){return l===" "||l==="	"||l===`
`||l==="\r"}function u(l,p){const T=p;for(;p<l.length;p++)if(l[p]=="?"||l[p]==" "){const d=l.substr(T,p-T);if(p>5&&d==="xml")return h("InvalidXml","XML declaration allowed only at the start of the document.",S(l,p));if(l[p]=="?"&&l[p+1]==">"){p++;break}else continue}return p}function f(l,p){if(l.length>p+5&&l[p+1]==="-"&&l[p+2]==="-"){for(p+=3;p<l.length;p++)if(l[p]==="-"&&l[p+1]==="-"&&l[p+2]===">"){p+=2;break}}else if(l.length>p+8&&l[p+1]==="D"&&l[p+2]==="O"&&l[p+3]==="C"&&l[p+4]==="T"&&l[p+5]==="Y"&&l[p+6]==="P"&&l[p+7]==="E"){let T=1;for(p+=8;p<l.length;p++)if(l[p]==="<")T++;else if(l[p]===">"&&(T--,T===0))break}else if(l.length>p+9&&l[p+1]==="["&&l[p+2]==="C"&&l[p+3]==="D"&&l[p+4]==="A"&&l[p+5]==="T"&&l[p+6]==="A"&&l[p+7]==="["){for(p+=8;p<l.length;p++)if(l[p]==="]"&&l[p+1]==="]"&&l[p+2]===">"){p+=2;break}}return p}const P='"',i="'";function r(l,p){let T="",d="",E=!1;for(;p<l.length;p++){if(l[p]===P||l[p]===i)d===""?d=l[p]:d!==l[p]||(d="");else if(l[p]===">"&&d===""){E=!0;break}T+=l[p]}return d!==""?!1:{value:T,index:p,tagClosed:E}}const c=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function s(l,p){const T=e.getAllMatches(l,c),d={};for(let E=0;E<T.length;E++){if(T[E][1].length===0)return h("InvalidAttr","Attribute '"+T[E][2]+"' has no space in starting.",k(T[E]));if(T[E][3]!==void 0&&T[E][4]===void 0)return h("InvalidAttr","Attribute '"+T[E][2]+"' is without value.",k(T[E]));if(T[E][3]===void 0&&!p.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+T[E][2]+"' is not allowed.",k(T[E]));const a=T[E][2];if(!x(a))return h("InvalidAttr","Attribute '"+a+"' is an invalid name.",k(T[E]));if(!d.hasOwnProperty(a))d[a]=1;else return h("InvalidAttr","Attribute '"+a+"' is repeated.",k(T[E]))}return!0}function n(l,p){let T=/\d/;for(l[p]==="x"&&(p++,T=/[\da-fA-F]/);p<l.length;p++){if(l[p]===";")return p;if(!l[p].match(T))break}return-1}function y(l,p){if(p++,l[p]===";")return-1;if(l[p]==="#")return p++,n(l,p);let T=0;for(;p<l.length;p++,T++)if(!(l[p].match(/\w/)&&T<20)){if(l[p]===";")break;return-1}return p}function h(l,p,T){return{err:{code:l,msg:p,line:T.line||T,col:T.col}}}function x(l){return e.isName(l)}function w(l){return e.isName(l)}function S(l,p){const T=l.substring(0,p).split(/\r?\n/);return{line:T.length,col:T[T.length-1].length+1}}function k(l){return l.startIndex+l[1].length}return de}var ae={},ct;function Ts(){if(ct)return ae;ct=1;const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,u){return u},attributeValueProcessor:function(t,u){return u},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,u,f){return t}},o=function(t){return Object.assign({},e,t)};return ae.buildOptions=o,ae.defaultOptions=e,ae}var fe,lt;function As(){if(lt)return fe;lt=1;class e{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,u){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:u})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}return fe=e,fe}var he,dt;function Ss(){if(dt)return he;dt=1;const e=Xe();function o(s,n){const y={};if(s[n+3]==="O"&&s[n+4]==="C"&&s[n+5]==="T"&&s[n+6]==="Y"&&s[n+7]==="P"&&s[n+8]==="E"){n=n+9;let h=1,x=!1,w=!1,S="";for(;n<s.length;n++)if(s[n]==="<"&&!w){if(x&&f(s,n))n+=7,[entityName,val,n]=t(s,n+1),val.indexOf("&")===-1&&(y[c(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(x&&P(s,n))n+=8;else if(x&&i(s,n))n+=8;else if(x&&r(s,n))n+=9;else if(u)w=!0;else throw new Error("Invalid DOCTYPE");h++,S=""}else if(s[n]===">"){if(w?s[n-1]==="-"&&s[n-2]==="-"&&(w=!1,h--):h--,h===0)break}else s[n]==="["?x=!0:S+=s[n];if(h!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:y,i:n}}function t(s,n){let y="";for(;n<s.length&&s[n]!=="'"&&s[n]!=='"';n++)y+=s[n];if(y=y.trim(),y.indexOf(" ")!==-1)throw new Error("External entites are not supported");const h=s[n++];let x="";for(;n<s.length&&s[n]!==h;n++)x+=s[n];return[y,x,n]}function u(s,n){return s[n+1]==="!"&&s[n+2]==="-"&&s[n+3]==="-"}function f(s,n){return s[n+1]==="!"&&s[n+2]==="E"&&s[n+3]==="N"&&s[n+4]==="T"&&s[n+5]==="I"&&s[n+6]==="T"&&s[n+7]==="Y"}function P(s,n){return s[n+1]==="!"&&s[n+2]==="E"&&s[n+3]==="L"&&s[n+4]==="E"&&s[n+5]==="M"&&s[n+6]==="E"&&s[n+7]==="N"&&s[n+8]==="T"}function i(s,n){return s[n+1]==="!"&&s[n+2]==="A"&&s[n+3]==="T"&&s[n+4]==="T"&&s[n+5]==="L"&&s[n+6]==="I"&&s[n+7]==="S"&&s[n+8]==="T"}function r(s,n){return s[n+1]==="!"&&s[n+2]==="N"&&s[n+3]==="O"&&s[n+4]==="T"&&s[n+5]==="A"&&s[n+6]==="T"&&s[n+7]==="I"&&s[n+8]==="O"&&s[n+9]==="N"}function c(s){if(e.isName(s))return s;throw new Error(`Invalid entity name ${s}`)}return he=o,he}var pe,ut;function ws(){if(ut)return pe;ut=1;const e=/^[-+]?0x[a-fA-F0-9]+$/,o=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,t={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function u(i,r={}){if(r=Object.assign({},t,r),!i||typeof i!="string")return i;let c=i.trim();if(r.skipLike!==void 0&&r.skipLike.test(c))return i;if(i==="0")return 0;if(r.hex&&e.test(c))return P(c,16);if(c.search(/[eE]/)!==-1){const s=c.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(s){if(r.leadingZeros)c=(s[1]||"")+s[3];else if(!(s[2]==="0"&&s[3][0]==="."))return i;return r.eNotation?Number(c):i}else return i}else{const s=o.exec(c);if(s){const n=s[1],y=s[2];let h=f(s[3]);if(!r.leadingZeros&&y.length>0&&n&&c[2]!==".")return i;if(!r.leadingZeros&&y.length>0&&!n&&c[1]!==".")return i;if(r.leadingZeros&&y===i)return 0;{const x=Number(c),w=""+x;return w.search(/[eE]/)!==-1?r.eNotation?x:i:c.indexOf(".")!==-1?w==="0"&&h===""||w===h||n&&w==="-"+h?x:i:y?h===w||n+h===w?x:i:c===w||c===n+w?x:i}}else return i}}function f(i){return i&&i.indexOf(".")!==-1&&(i=i.replace(/0+$/,""),i==="."?i="0":i[0]==="."?i="0"+i:i[i.length-1]==="."&&(i=i.substr(0,i.length-1))),i}function P(i,r){if(parseInt)return parseInt(i,r);if(Number.parseInt)return Number.parseInt(i,r);if(window&&window.parseInt)return window.parseInt(i,r);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return pe=u,pe}var ge,ft;function xs(){if(ft)return ge;ft=1;const e=Xe(),o=As(),t=Ss(),u=ws();class f{constructor(E){this.options=E,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(a,N)=>String.fromCharCode(Number.parseInt(N,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(a,N)=>String.fromCharCode(Number.parseInt(N,16))}},this.addExternalEntities=P,this.parseXml=n,this.parseTextData=i,this.resolveNameSpace=r,this.buildAttributesMap=s,this.isItStopNode=w,this.replaceEntitiesValue=h,this.readStopNodeData=p,this.saveTextToParentTag=x,this.addChild=y}}function P(d){const E=Object.keys(d);for(let a=0;a<E.length;a++){const N=E[a];this.lastEntities[N]={regex:new RegExp("&"+N+";","g"),val:d[N]}}}function i(d,E,a,N,b,g,O){if(d!==void 0&&(this.options.trimValues&&!N&&(d=d.trim()),d.length>0)){O||(d=this.replaceEntitiesValue(d));const A=this.options.tagValueProcessor(E,d,a,b,g);return A==null?d:typeof A!=typeof d||A!==d?A:this.options.trimValues?T(d,this.options.parseTagValue,this.options.numberParseOptions):d.trim()===d?T(d,this.options.parseTagValue,this.options.numberParseOptions):d}}function r(d){if(this.options.removeNSPrefix){const E=d.split(":"),a=d.charAt(0)==="/"?"/":"";if(E[0]==="xmlns")return"";E.length===2&&(d=a+E[1])}return d}const c=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function s(d,E,a){if(!this.options.ignoreAttributes&&typeof d=="string"){const N=e.getAllMatches(d,c),b=N.length,g={};for(let O=0;O<b;O++){const A=this.resolveNameSpace(N[O][1]);let m=N[O][4],_=this.options.attributeNamePrefix+A;if(A.length)if(this.options.transformAttributeName&&(_=this.options.transformAttributeName(_)),_==="__proto__"&&(_="#__proto__"),m!==void 0){this.options.trimValues&&(m=m.trim()),m=this.replaceEntitiesValue(m);const C=this.options.attributeValueProcessor(A,m,E);C==null?g[_]=m:typeof C!=typeof m||C!==m?g[_]=C:g[_]=T(m,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(g[_]=!0)}if(!Object.keys(g).length)return;if(this.options.attributesGroupName){const O={};return O[this.options.attributesGroupName]=g,O}return g}}const n=function(d){d=d.replace(/\r\n?/g,`
`);const E=new o("!xml");let a=E,N="",b="";for(let g=0;g<d.length;g++)if(d[g]==="<")if(d[g+1]==="/"){const A=k(d,">",g,"Closing Tag is not closed.");let m=d.substring(g+2,A).trim();if(this.options.removeNSPrefix){const H=m.indexOf(":");H!==-1&&(m=m.substr(H+1))}this.options.transformTagName&&(m=this.options.transformTagName(m)),a&&(N=this.saveTextToParentTag(N,a,b));const _=b.substring(b.lastIndexOf(".")+1);if(m&&this.options.unpairedTags.indexOf(m)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${m}>`);let C=0;_&&this.options.unpairedTags.indexOf(_)!==-1?(C=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):C=b.lastIndexOf("."),b=b.substring(0,C),a=this.tagsNodeStack.pop(),N="",g=A}else if(d[g+1]==="?"){let A=l(d,g,!1,"?>");if(!A)throw new Error("Pi Tag is not closed.");if(N=this.saveTextToParentTag(N,a,b),!(this.options.ignoreDeclaration&&A.tagName==="?xml"||this.options.ignorePiTags)){const m=new o(A.tagName);m.add(this.options.textNodeName,""),A.tagName!==A.tagExp&&A.attrExpPresent&&(m[":@"]=this.buildAttributesMap(A.tagExp,b,A.tagName)),this.addChild(a,m,b)}g=A.closeIndex+1}else if(d.substr(g+1,3)==="!--"){const A=k(d,"-->",g+4,"Comment is not closed.");if(this.options.commentPropName){const m=d.substring(g+4,A-2);N=this.saveTextToParentTag(N,a,b),a.add(this.options.commentPropName,[{[this.options.textNodeName]:m}])}g=A}else if(d.substr(g+1,2)==="!D"){const A=t(d,g);this.docTypeEntities=A.entities,g=A.i}else if(d.substr(g+1,2)==="!["){const A=k(d,"]]>",g,"CDATA is not closed.")-2,m=d.substring(g+9,A);N=this.saveTextToParentTag(N,a,b);let _=this.parseTextData(m,a.tagname,b,!0,!1,!0,!0);_==null&&(_=""),this.options.cdataPropName?a.add(this.options.cdataPropName,[{[this.options.textNodeName]:m}]):a.add(this.options.textNodeName,_),g=A+2}else{let A=l(d,g,this.options.removeNSPrefix),m=A.tagName;const _=A.rawTagName;let C=A.tagExp,H=A.attrExpPresent,nt=A.closeIndex;this.options.transformTagName&&(m=this.options.transformTagName(m)),a&&N&&a.tagname!=="!xml"&&(N=this.saveTextToParentTag(N,a,b,!1));const st=a;if(st&&this.options.unpairedTags.indexOf(st.tagname)!==-1&&(a=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),m!==E.tagname&&(b+=b?"."+m:m),this.isItStopNode(this.options.stopNodes,b,m)){let B="";if(C.length>0&&C.lastIndexOf("/")===C.length-1)m[m.length-1]==="/"?(m=m.substr(0,m.length-1),b=b.substr(0,b.length-1),C=m):C=C.substr(0,C.length-1),g=A.closeIndex;else if(this.options.unpairedTags.indexOf(m)!==-1)g=A.closeIndex;else{const le=this.readStopNodeData(d,_,nt+1);if(!le)throw new Error(`Unexpected end of ${_}`);g=le.i,B=le.tagContent}const ce=new o(m);m!==C&&H&&(ce[":@"]=this.buildAttributesMap(C,b,m)),B&&(B=this.parseTextData(B,m,b,!0,H,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),ce.add(this.options.textNodeName,B),this.addChild(a,ce,b)}else{if(C.length>0&&C.lastIndexOf("/")===C.length-1){m[m.length-1]==="/"?(m=m.substr(0,m.length-1),b=b.substr(0,b.length-1),C=m):C=C.substr(0,C.length-1),this.options.transformTagName&&(m=this.options.transformTagName(m));const B=new o(m);m!==C&&H&&(B[":@"]=this.buildAttributesMap(C,b,m)),this.addChild(a,B,b),b=b.substr(0,b.lastIndexOf("."))}else{const B=new o(m);this.tagsNodeStack.push(a),m!==C&&H&&(B[":@"]=this.buildAttributesMap(C,b,m)),this.addChild(a,B,b),a=B}N="",g=nt}}else N+=d[g];return E.child};function y(d,E,a){const N=this.options.updateTag(E.tagname,a,E[":@"]);N===!1||(typeof N=="string"&&(E.tagname=N),d.addChild(E))}const h=function(d){if(this.options.processEntities){for(let E in this.docTypeEntities){const a=this.docTypeEntities[E];d=d.replace(a.regx,a.val)}for(let E in this.lastEntities){const a=this.lastEntities[E];d=d.replace(a.regex,a.val)}if(this.options.htmlEntities)for(let E in this.htmlEntities){const a=this.htmlEntities[E];d=d.replace(a.regex,a.val)}d=d.replace(this.ampEntity.regex,this.ampEntity.val)}return d};function x(d,E,a,N){return d&&(N===void 0&&(N=Object.keys(E.child).length===0),d=this.parseTextData(d,E.tagname,a,!1,E[":@"]?Object.keys(E[":@"]).length!==0:!1,N),d!==void 0&&d!==""&&E.add(this.options.textNodeName,d),d=""),d}function w(d,E,a){const N="*."+a;for(const b in d){const g=d[b];if(N===g||E===g)return!0}return!1}function S(d,E,a=">"){let N,b="";for(let g=E;g<d.length;g++){let O=d[g];if(N)O===N&&(N="");else if(O==='"'||O==="'")N=O;else if(O===a[0])if(a[1]){if(d[g+1]===a[1])return{data:b,index:g}}else return{data:b,index:g};else O==="	"&&(O=" ");b+=O}}function k(d,E,a,N){const b=d.indexOf(E,a);if(b===-1)throw new Error(N);return b+E.length-1}function l(d,E,a,N=">"){const b=S(d,E+1,N);if(!b)return;let g=b.data;const O=b.index,A=g.search(/\s/);let m=g,_=!0;A!==-1&&(m=g.substring(0,A),g=g.substring(A+1).trimStart());const C=m;if(a){const H=m.indexOf(":");H!==-1&&(m=m.substr(H+1),_=m!==b.data.substr(H+1))}return{tagName:m,tagExp:g,closeIndex:O,attrExpPresent:_,rawTagName:C}}function p(d,E,a){const N=a;let b=1;for(;a<d.length;a++)if(d[a]==="<")if(d[a+1]==="/"){const g=k(d,">",a,`${E} is not closed`);if(d.substring(a+2,g).trim()===E&&(b--,b===0))return{tagContent:d.substring(N,a),i:g};a=g}else if(d[a+1]==="?")a=k(d,"?>",a+1,"StopNode is not closed.");else if(d.substr(a+1,3)==="!--")a=k(d,"-->",a+3,"StopNode is not closed.");else if(d.substr(a+1,2)==="![")a=k(d,"]]>",a,"StopNode is not closed.")-2;else{const g=l(d,a,">");g&&((g&&g.tagName)===E&&g.tagExp[g.tagExp.length-1]!=="/"&&b++,a=g.closeIndex)}}function T(d,E,a){if(E&&typeof d=="string"){const N=d.trim();return N==="true"?!0:N==="false"?!1:u(d,a)}else return e.isExist(d)?d:""}return ge=f,ge}var me={},ht;function Is(){if(ht)return me;ht=1;function e(P,i){return o(P,i)}function o(P,i,r){let c;const s={};for(let n=0;n<P.length;n++){const y=P[n],h=t(y);let x="";if(r===void 0?x=h:x=r+"."+h,h===i.textNodeName)c===void 0?c=y[h]:c+=""+y[h];else{if(h===void 0)continue;if(y[h]){let w=o(y[h],i,x);const S=f(w,i);y[":@"]?u(w,y[":@"],x,i):Object.keys(w).length===1&&w[i.textNodeName]!==void 0&&!i.alwaysCreateTextNode?w=w[i.textNodeName]:Object.keys(w).length===0&&(i.alwaysCreateTextNode?w[i.textNodeName]="":w=""),s[h]!==void 0&&s.hasOwnProperty(h)?(Array.isArray(s[h])||(s[h]=[s[h]]),s[h].push(w)):i.isArray(h,x,S)?s[h]=[w]:s[h]=w}}}return typeof c=="string"?c.length>0&&(s[i.textNodeName]=c):c!==void 0&&(s[i.textNodeName]=c),s}function t(P){const i=Object.keys(P);for(let r=0;r<i.length;r++){const c=i[r];if(c!==":@")return c}}function u(P,i,r,c){if(i){const s=Object.keys(i),n=s.length;for(let y=0;y<n;y++){const h=s[y];c.isArray(h,r+"."+h,!0,!0)?P[h]=[i[h]]:P[h]=i[h]}}}function f(P,i){const{textNodeName:r}=i,c=Object.keys(P).length;return!!(c===0||c===1&&(P[r]||typeof P[r]=="boolean"||P[r]===0))}return me.prettify=e,me}var Ee,pt;function Cs(){if(pt)return Ee;pt=1;const{buildOptions:e}=Ts(),o=xs(),{prettify:t}=Is(),u=Mt();class f{constructor(i){this.externalEntities={},this.options=e(i)}parse(i,r){if(typeof i!="string")if(i.toString)i=i.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const n=u.validate(i,r);if(n!==!0)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const c=new o(this.options);c.addExternalEntities(this.externalEntities);const s=c.parseXml(i);return this.options.preserveOrder||s===void 0?s:t(s,this.options)}addEntity(i,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(i.indexOf("&")!==-1||i.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[i]=r}}return Ee=f,Ee}var ye,gt;function vs(){if(gt)return ye;gt=1;const e=`
`;function o(r,c){let s="";return c.format&&c.indentBy.length>0&&(s=e),t(r,c,"",s)}function t(r,c,s,n){let y="",h=!1;for(let x=0;x<r.length;x++){const w=r[x],S=u(w);if(S===void 0)continue;let k="";if(s.length===0?k=S:k=`${s}.${S}`,S===c.textNodeName){let E=w[S];P(k,c)||(E=c.tagValueProcessor(S,E),E=i(E,c)),h&&(y+=n),y+=E,h=!1;continue}else if(S===c.cdataPropName){h&&(y+=n),y+=`<![CDATA[${w[S][0][c.textNodeName]}]]>`,h=!1;continue}else if(S===c.commentPropName){y+=n+`<!--${w[S][0][c.textNodeName]}-->`,h=!0;continue}else if(S[0]==="?"){const E=f(w[":@"],c),a=S==="?xml"?"":n;let N=w[S][0][c.textNodeName];N=N.length!==0?" "+N:"",y+=a+`<${S}${N}${E}?>`,h=!0;continue}let l=n;l!==""&&(l+=c.indentBy);const p=f(w[":@"],c),T=n+`<${S}${p}`,d=t(w[S],c,k,l);c.unpairedTags.indexOf(S)!==-1?c.suppressUnpairedNode?y+=T+">":y+=T+"/>":(!d||d.length===0)&&c.suppressEmptyNode?y+=T+"/>":d&&d.endsWith(">")?y+=T+`>${d}${n}</${S}>`:(y+=T+">",d&&n!==""&&(d.includes("/>")||d.includes("</"))?y+=n+c.indentBy+d+n:y+=d,y+=`</${S}>`),h=!0}return y}function u(r){const c=Object.keys(r);for(let s=0;s<c.length;s++){const n=c[s];if(r.hasOwnProperty(n)&&n!==":@")return n}}function f(r,c){let s="";if(r&&!c.ignoreAttributes)for(let n in r){if(!r.hasOwnProperty(n))continue;let y=c.attributeValueProcessor(n,r[n]);y=i(y,c),y===!0&&c.suppressBooleanAttributes?s+=` ${n.substr(c.attributeNamePrefix.length)}`:s+=` ${n.substr(c.attributeNamePrefix.length)}="${y}"`}return s}function P(r,c){r=r.substr(0,r.length-c.textNodeName.length-1);let s=r.substr(r.lastIndexOf(".")+1);for(let n in c.stopNodes)if(c.stopNodes[n]===r||c.stopNodes[n]==="*."+s)return!0;return!1}function i(r,c){if(r&&r.length>0&&c.processEntities)for(let s=0;s<c.entities.length;s++){const n=c.entities[s];r=r.replace(n.regex,n.val)}return r}return ye=o,ye}var be,mt;function Rs(){if(mt)return be;mt=1;const e=vs(),o={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(i,r){return r},attributeValueProcessor:function(i,r){return r},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function t(i){this.options=Object.assign({},o,i),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=P),this.processTextOrObjNode=u,this.options.format?(this.indentate=f,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}t.prototype.build=function(i){return this.options.preserveOrder?e(i,this.options):(Array.isArray(i)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(i={[this.options.arrayNodeName]:i}),this.j2x(i,0).val)},t.prototype.j2x=function(i,r){let c="",s="";for(let n in i)if(Object.prototype.hasOwnProperty.call(i,n))if(typeof i[n]>"u")this.isAttribute(n)&&(s+="");else if(i[n]===null)this.isAttribute(n)?s+="":n[0]==="?"?s+=this.indentate(r)+"<"+n+"?"+this.tagEndChar:s+=this.indentate(r)+"<"+n+"/"+this.tagEndChar;else if(i[n]instanceof Date)s+=this.buildTextValNode(i[n],n,"",r);else if(typeof i[n]!="object"){const y=this.isAttribute(n);if(y)c+=this.buildAttrPairStr(y,""+i[n]);else if(n===this.options.textNodeName){let h=this.options.tagValueProcessor(n,""+i[n]);s+=this.replaceEntitiesValue(h)}else s+=this.buildTextValNode(i[n],n,"",r)}else if(Array.isArray(i[n])){const y=i[n].length;let h="",x="";for(let w=0;w<y;w++){const S=i[n][w];if(!(typeof S>"u"))if(S===null)n[0]==="?"?s+=this.indentate(r)+"<"+n+"?"+this.tagEndChar:s+=this.indentate(r)+"<"+n+"/"+this.tagEndChar;else if(typeof S=="object")if(this.options.oneListGroup){const k=this.j2x(S,r+1);h+=k.val,this.options.attributesGroupName&&S.hasOwnProperty(this.options.attributesGroupName)&&(x+=k.attrStr)}else h+=this.processTextOrObjNode(S,n,r);else if(this.options.oneListGroup){let k=this.options.tagValueProcessor(n,S);k=this.replaceEntitiesValue(k),h+=k}else h+=this.buildTextValNode(S,n,"",r)}this.options.oneListGroup&&(h=this.buildObjectNode(h,n,x,r)),s+=h}else if(this.options.attributesGroupName&&n===this.options.attributesGroupName){const y=Object.keys(i[n]),h=y.length;for(let x=0;x<h;x++)c+=this.buildAttrPairStr(y[x],""+i[n][y[x]])}else s+=this.processTextOrObjNode(i[n],n,r);return{attrStr:c,val:s}},t.prototype.buildAttrPairStr=function(i,r){return r=this.options.attributeValueProcessor(i,""+r),r=this.replaceEntitiesValue(r),this.options.suppressBooleanAttributes&&r==="true"?" "+i:" "+i+'="'+r+'"'};function u(i,r,c){const s=this.j2x(i,c+1);return i[this.options.textNodeName]!==void 0&&Object.keys(i).length===1?this.buildTextValNode(i[this.options.textNodeName],r,s.attrStr,c):this.buildObjectNode(s.val,r,s.attrStr,c)}t.prototype.buildObjectNode=function(i,r,c,s){if(i==="")return r[0]==="?"?this.indentate(s)+"<"+r+c+"?"+this.tagEndChar:this.indentate(s)+"<"+r+c+this.closeTag(r)+this.tagEndChar;{let n="</"+r+this.tagEndChar,y="";return r[0]==="?"&&(y="?",n=""),(c||c==="")&&i.indexOf("<")===-1?this.indentate(s)+"<"+r+c+y+">"+i+n:this.options.commentPropName!==!1&&r===this.options.commentPropName&&y.length===0?this.indentate(s)+`<!--${i}-->`+this.newLine:this.indentate(s)+"<"+r+c+y+this.tagEndChar+i+this.indentate(s)+n}},t.prototype.closeTag=function(i){let r="";return this.options.unpairedTags.indexOf(i)!==-1?this.options.suppressUnpairedNode||(r="/"):this.options.suppressEmptyNode?r="/":r=`></${i}`,r},t.prototype.buildTextValNode=function(i,r,c,s){if(this.options.cdataPropName!==!1&&r===this.options.cdataPropName)return this.indentate(s)+`<![CDATA[${i}]]>`+this.newLine;if(this.options.commentPropName!==!1&&r===this.options.commentPropName)return this.indentate(s)+`<!--${i}-->`+this.newLine;if(r[0]==="?")return this.indentate(s)+"<"+r+c+"?"+this.tagEndChar;{let n=this.options.tagValueProcessor(r,i);return n=this.replaceEntitiesValue(n),n===""?this.indentate(s)+"<"+r+c+this.closeTag(r)+this.tagEndChar:this.indentate(s)+"<"+r+c+">"+n+"</"+r+this.tagEndChar}},t.prototype.replaceEntitiesValue=function(i){if(i&&i.length>0&&this.options.processEntities)for(let r=0;r<this.options.entities.length;r++){const c=this.options.entities[r];i=i.replace(c.regex,c.val)}return i};function f(i){return this.options.indentBy.repeat(i)}function P(i){return i.startsWith(this.options.attributeNamePrefix)&&i!==this.options.textNodeName?i.substr(this.attrPrefixLen):!1}return be=t,be}var Ne,Et;function _s(){if(Et)return Ne;Et=1;const e=Mt(),o=Cs(),t=Rs();return Ne={XMLParser:o,XMLValidator:e,XMLBuilder:t},Ne}var Os=_s();const je=(e,o)=>pn(e,o).then(t=>{if(t.length){const u=new Os.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,s)=>s.trim()===""&&s.includes(`
`)?"":void 0});u.addEntity("#xD","\r"),u.addEntity("#10",`
`);let f;try{f=u.parse(t,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}const P="#text",i=Object.keys(f)[0],r=f[i];return r[P]&&(r[i]=r[P],delete r[P]),Lt(r)}return{}}),ks=async(e,o)=>{const t=await je(e,o);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},$s=async(e,o,t)=>({operation:mn(o).operation,region:await Rt(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Fs(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(o,t)=>({signingProperties:{config:o,context:t}})}}function Vs(e){return{schemeId:"smithy.api#noAuth"}}const Ls=e=>{const o=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{o.push(Vs());break}default:o.push(Fs(e))}return o},Ms=e=>Object.assign(e,{stsClientCtor:Ke}),Ws=e=>{const o=Ms(e),t=gn(o);return Object.assign(t,{authSchemePreference:Rt(e.authSchemePreference??[])})},qs=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Wt={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Us="3.830.0",Bs={version:Us},qt="required",I="type",v="fn",R="argv",J="ref",yt=!1,Pe=!0,K="booleanEquals",V="stringEquals",Ut="sigv4",Bt="sts",Ht="us-east-1",$="endpoint",bt="https://sts.{Region}.{PartitionResult#dnsSuffix}",z="tree",Y="error",Ge="getAttr",Nt={[qt]:!1,[I]:"String"},Te={[qt]:!0,default:!1,[I]:"Boolean"},zt={[J]:"Endpoint"},Pt={[v]:"isSet",[R]:[{[J]:"Region"}]},L={[J]:"Region"},Tt={[v]:"aws.partition",[R]:[L],assign:"PartitionResult"},Xt={[J]:"UseFIPS"},jt={[J]:"UseDualStack"},q={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Ut,signingName:Bt,signingRegion:Ht}]},headers:{}},U={},At={conditions:[{[v]:V,[R]:[L,"aws-global"]}],[$]:q,[I]:$},Gt={[v]:K,[R]:[Xt,!0]},Kt={[v]:K,[R]:[jt,!0]},St={[v]:Ge,[R]:[{[J]:"PartitionResult"},"supportsFIPS"]},Jt={[J]:"PartitionResult"},wt={[v]:K,[R]:[!0,{[v]:Ge,[R]:[Jt,"supportsDualStack"]}]},xt=[{[v]:"isSet",[R]:[zt]}],It=[Gt],Ct=[Kt],Hs={parameters:{Region:Nt,UseDualStack:Te,UseFIPS:Te,Endpoint:Nt,UseGlobalEndpoint:Te},rules:[{conditions:[{[v]:K,[R]:[{[J]:"UseGlobalEndpoint"},Pe]},{[v]:"not",[R]:xt},Pt,Tt,{[v]:K,[R]:[Xt,yt]},{[v]:K,[R]:[jt,yt]}],rules:[{conditions:[{[v]:V,[R]:[L,"ap-northeast-1"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"ap-south-1"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"ap-southeast-1"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"ap-southeast-2"]}],endpoint:q,[I]:$},At,{conditions:[{[v]:V,[R]:[L,"ca-central-1"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"eu-central-1"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"eu-north-1"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"eu-west-1"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"eu-west-2"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"eu-west-3"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"sa-east-1"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,Ht]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"us-east-2"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"us-west-1"]}],endpoint:q,[I]:$},{conditions:[{[v]:V,[R]:[L,"us-west-2"]}],endpoint:q,[I]:$},{endpoint:{url:bt,properties:{authSchemes:[{name:Ut,signingName:Bt,signingRegion:"{Region}"}]},headers:U},[I]:$}],[I]:z},{conditions:xt,rules:[{conditions:It,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[I]:Y},{conditions:Ct,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[I]:Y},{endpoint:{url:zt,properties:U,headers:U},[I]:$}],[I]:z},{conditions:[Pt],rules:[{conditions:[Tt],rules:[{conditions:[Gt,Kt],rules:[{conditions:[{[v]:K,[R]:[Pe,St]},wt],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:U,headers:U},[I]:$}],[I]:z},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[I]:Y}],[I]:z},{conditions:It,rules:[{conditions:[{[v]:K,[R]:[St,Pe]}],rules:[{conditions:[{[v]:V,[R]:[{[v]:Ge,[R]:[Jt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:U,headers:U},[I]:$},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:U,headers:U},[I]:$}],[I]:z},{error:"FIPS is enabled but this partition does not support FIPS",[I]:Y}],[I]:z},{conditions:Ct,rules:[{conditions:[wt],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:U,headers:U},[I]:$}],[I]:z},{error:"DualStack is enabled but this partition does not support DualStack",[I]:Y}],[I]:z},At,{endpoint:{url:bt,properties:U,headers:U},[I]:$}],[I]:z}],[I]:z},{error:"Invalid Configuration: Missing Region",[I]:Y}]},zs=Hs,Xs=new En({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),js=(e,o={})=>Xs.get(e,()=>Nn(zs,{endpointParams:e,logger:o.logger}));bn.aws=yn;const Gs=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??In,base64Encoder:(e==null?void 0:e.base64Encoder)??xn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??js,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??Ls,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4"),signer:new wn},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ns}],logger:(e==null?void 0:e.logger)??new Sn,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??An,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Tn,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Pn}),Ks=e=>{const o=Cn(e),t=()=>o().then(Wn),u=Gs(e);return{...u,...e,runtime:"browser",defaultsMode:o,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Vn,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(f=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Fn({serviceId:u.serviceId,clientVersion:Bs.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??$n,region:(e==null?void 0:e.region)??kn("Region is missing"),requestHandler:On.create((e==null?void 0:e.requestHandler)??t),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await t()).retryMode||_n),sha256:(e==null?void 0:e.sha256)??Rn,streamCollector:(e==null?void 0:e.streamCollector)??vn,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(Mn)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(Ln))}},Js=e=>{const o=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,u=e.credentials;return{setHttpAuthScheme(f){const P=o.findIndex(i=>i.schemeId===f.schemeId);P===-1?o.push(f):o.splice(P,1,f)},httpAuthSchemes(){return o},setHttpAuthSchemeProvider(f){t=f},httpAuthSchemeProvider(){return t},setCredentials(f){u=f},credentials(){return u}}},Zs=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Ys=(e,o)=>{const t=Object.assign(qn(e),Un(e),Bn(e),Js(e));return o.forEach(u=>u.configure(t)),Object.assign(e,Hn(t),zn(t),Xn(t),Zs(t))};class Ke extends jn{constructor(...[t]){const u=Ks(t||{});super(u);W(this,"config");this.initConfig=u;const f=qs(u),P=Gn(f),i=Kn(P),r=Jn(i),c=Yn(r),s=Zn(c),n=Ws(s),y=Ys(n,(t==null?void 0:t.extensions)||[]);this.config=y,this.middlewareStack.use(Qn(this.config)),this.middlewareStack.use(Dn(this.config)),this.middlewareStack.use(es(this.config)),this.middlewareStack.use(ts(this.config)),this.middlewareStack.use(ns(this.config)),this.middlewareStack.use(ss(this.config)),this.middlewareStack.use(rs(this.config,{httpAuthSchemeParametersProvider:$s,identityProviderConfigProvider:async h=>new is({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(os(this.config))}destroy(){super.destroy()}}class X extends as{constructor(o){super(o),Object.setPrototypeOf(this,X.prototype)}}const Zt=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:_t}}),Qs=e=>({...e,...e.Credentials&&{Credentials:Zt(e.Credentials)}});class Je extends X{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t});W(this,"name","ExpiredTokenException");W(this,"$fault","client");Object.setPrototypeOf(this,Je.prototype)}}class Ze extends X{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t});W(this,"name","MalformedPolicyDocumentException");W(this,"$fault","client");Object.setPrototypeOf(this,Ze.prototype)}}class Ye extends X{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t});W(this,"name","PackedPolicyTooLargeException");W(this,"$fault","client");Object.setPrototypeOf(this,Ye.prototype)}}class Qe extends X{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t});W(this,"name","RegionDisabledException");W(this,"$fault","client");Object.setPrototypeOf(this,Qe.prototype)}}class De extends X{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t});W(this,"name","IDPRejectedClaimException");W(this,"$fault","client");Object.setPrototypeOf(this,De.prototype)}}class et extends X{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t});W(this,"name","InvalidIdentityTokenException");W(this,"$fault","client");Object.setPrototypeOf(this,et.prototype)}}const Ds=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:_t}}),er=e=>({...e,...e.Credentials&&{Credentials:Zt(e.Credentials)}});class tt extends X{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t});W(this,"name","IDPCommunicationErrorException");W(this,"$fault","client");Object.setPrototypeOf(this,tt.prototype)}}const tr=async(e,o)=>{const t=nn;let u;return u=an({...fr(e),[rn]:Rr,[on]:sn}),tn(o,t,"/",void 0,u)},nr=async(e,o)=>{const t=nn;let u;return u=an({...hr(e),[rn]:_r,[on]:sn}),tn(o,t,"/",void 0,u)},sr=async(e,o)=>{if(e.statusCode>=300)return Yt(e,o);const t=await je(e.body,o);let u={};return u=Nr(t.AssumeRoleResult),{$metadata:G(e),...u}},rr=async(e,o)=>{if(e.statusCode>=300)return Yt(e,o);const t=await je(e.body,o);let u={};return u=Pr(t.AssumeRoleWithWebIdentityResult),{$metadata:G(e),...u}},Yt=async(e,o)=>{const t={...e,body:await ks(e.body,o)},u=Or(e,t.body);switch(u){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await ir(t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await lr(t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await dr(t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await ur(t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await or(t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await ar(t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await cr(t);default:const f=t.body;return vr({output:e,parsedBody:f.Error,errorCode:u})}},ir=async(e,o)=>{const t=e.body,u=Tr(t.Error),f=new Je({$metadata:G(e),...u});return Z(f,t)},or=async(e,o)=>{const t=e.body,u=Ar(t.Error),f=new tt({$metadata:G(e),...u});return Z(f,t)},ar=async(e,o)=>{const t=e.body,u=Sr(t.Error),f=new De({$metadata:G(e),...u});return Z(f,t)},cr=async(e,o)=>{const t=e.body,u=wr(t.Error),f=new et({$metadata:G(e),...u});return Z(f,t)},lr=async(e,o)=>{const t=e.body,u=xr(t.Error),f=new Ze({$metadata:G(e),...u});return Z(f,t)},dr=async(e,o)=>{const t=e.body,u=Ir(t.Error),f=new Ye({$metadata:G(e),...u});return Z(f,t)},ur=async(e,o)=>{const t=e.body,u=Cr(t.Error),f=new Qe({$metadata:G(e),...u});return Z(f,t)},fr=(e,o)=>{var u,f,P,i;const t={};if(e[re]!=null&&(t[re]=e[re]),e[ie]!=null&&(t[ie]=e[ie]),e[ne]!=null){const r=Qt(e[ne]);((u=e[ne])==null?void 0:u.length)===0&&(t.PolicyArns=[]),Object.entries(r).forEach(([c,s])=>{const n=`PolicyArns.${c}`;t[n]=s})}if(e[te]!=null&&(t[te]=e[te]),e[ee]!=null&&(t[ee]=e[ee]),e[We]!=null){const r=br(e[We]);((f=e[We])==null?void 0:f.length)===0&&(t.Tags=[]),Object.entries(r).forEach(([c,s])=>{const n=`Tags.${c}`;t[n]=s})}if(e[Ue]!=null){const r=yr(e[Ue]);((P=e[Ue])==null?void 0:P.length)===0&&(t.TransitiveTagKeys=[]),Object.entries(r).forEach(([c,s])=>{const n=`TransitiveTagKeys.${c}`;t[n]=s})}if(e[ve]!=null&&(t[ve]=e[ve]),e[Le]!=null&&(t[Le]=e[Le]),e[qe]!=null&&(t[qe]=e[qe]),e[j]!=null&&(t[j]=e[j]),e[Oe]!=null){const r=mr(e[Oe]);((i=e[Oe])==null?void 0:i.length)===0&&(t.ProvidedContexts=[]),Object.entries(r).forEach(([c,s])=>{const n=`ProvidedContexts.${c}`;t[n]=s})}return t},hr=(e,o)=>{var u;const t={};if(e[re]!=null&&(t[re]=e[re]),e[ie]!=null&&(t[ie]=e[ie]),e[He]!=null&&(t[He]=e[He]),e[ke]!=null&&(t[ke]=e[ke]),e[ne]!=null){const f=Qt(e[ne]);((u=e[ne])==null?void 0:u.length)===0&&(t.PolicyArns=[]),Object.entries(f).forEach(([P,i])=>{const r=`PolicyArns.${P}`;t[r]=i})}return e[te]!=null&&(t[te]=e[te]),e[ee]!=null&&(t[ee]=e[ee]),t},Qt=(e,o)=>{const t={};let u=1;for(const f of e){if(f===null)continue;const P=pr(f);Object.entries(P).forEach(([i,r])=>{t[`member.${u}.${i}`]=r}),u++}return t},pr=(e,o)=>{const t={};return e[ze]!=null&&(t[ze]=e[ze]),t},gr=(e,o)=>{const t={};return e[_e]!=null&&(t[_e]=e[_e]),e[Ie]!=null&&(t[Ie]=e[Ie]),t},mr=(e,o)=>{const t={};let u=1;for(const f of e){if(f===null)continue;const P=gr(f);Object.entries(P).forEach(([i,r])=>{t[`member.${u}.${i}`]=r}),u++}return t},Er=(e,o)=>{const t={};return e[Re]!=null&&(t[Re]=e[Re]),e[Be]!=null&&(t[Be]=e[Be]),t},yr=(e,o)=>{const t={};let u=1;for(const f of e)f!==null&&(t[`member.${u}`]=f,u++);return t},br=(e,o)=>{const t={};let u=1;for(const f of e){if(f===null)continue;const P=Er(f);Object.entries(P).forEach(([i,r])=>{t[`member.${u}.${i}`]=r}),u++}return t},Dt=(e,o)=>{const t={};return e[Se]!=null&&(t[Se]=M(e[Se])),e[we]!=null&&(t[we]=M(e[we])),t},Nr=(e,o)=>{const t={};return e[D]!=null&&(t[D]=en(e[D])),e[Q]!=null&&(t[Q]=Dt(e[Q])),e[se]!=null&&(t[se]=Ot(e[se])),e[j]!=null&&(t[j]=M(e[j])),t},Pr=(e,o)=>{const t={};return e[D]!=null&&(t[D]=en(e[D])),e[Ve]!=null&&(t[Ve]=M(e[Ve])),e[Q]!=null&&(t[Q]=Dt(e[Q])),e[se]!=null&&(t[se]=Ot(e[se])),e[$e]!=null&&(t[$e]=M(e[$e])),e[xe]!=null&&(t[xe]=M(e[xe])),e[j]!=null&&(t[j]=M(e[j])),t},en=(e,o)=>{const t={};return e[Ae]!=null&&(t[Ae]=M(e[Ae])),e[Fe]!=null&&(t[Fe]=M(e[Fe])),e[Me]!=null&&(t[Me]=M(e[Me])),e[Ce]!=null&&(t[Ce]=ds(hs(e[Ce]))),t},Tr=(e,o)=>{const t={};return e[F]!=null&&(t[F]=M(e[F])),t},Ar=(e,o)=>{const t={};return e[F]!=null&&(t[F]=M(e[F])),t},Sr=(e,o)=>{const t={};return e[F]!=null&&(t[F]=M(e[F])),t},wr=(e,o)=>{const t={};return e[F]!=null&&(t[F]=M(e[F])),t},xr=(e,o)=>{const t={};return e[F]!=null&&(t[F]=M(e[F])),t},Ir=(e,o)=>{const t={};return e[F]!=null&&(t[F]=M(e[F])),t},Cr=(e,o)=>{const t={};return e[F]!=null&&(t[F]=M(e[F])),t},G=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),vr=ls(X),tn=async(e,o,t,u,f)=>{const{hostname:P,protocol:i="https",port:r,path:c}=await e.endpoint(),s={protocol:i,hostname:P,port:r,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+t:c+t,headers:o};return f!==void 0&&(s.body=f),new cs(s)},nn={"content-type":"application/x-www-form-urlencoded"},sn="2011-06-15",rn="Action",Ae="AccessKeyId",Rr="AssumeRole",Se="AssumedRoleId",Q="AssumedRoleUser",_r="AssumeRoleWithWebIdentity",we="Arn",xe="Audience",D="Credentials",Ie="ContextAssertion",ee="DurationSeconds",Ce="Expiration",ve="ExternalId",Re="Key",te="Policy",ne="PolicyArns",_e="ProviderArn",Oe="ProvidedContexts",ke="ProviderId",se="PackedPolicySize",$e="Provider",re="RoleArn",ie="RoleSessionName",Fe="SecretAccessKey",Ve="SubjectFromWebIdentityToken",j="SourceIdentity",Le="SerialNumber",Me="SessionToken",We="Tags",qe="TokenCode",Ue="TransitiveTagKeys",on="Version",Be="Value",He="WebIdentityToken",ze="arn",F="message",an=e=>Object.entries(e).map(([o,t])=>rt(o)+"="+rt(t)).join("&"),Or=(e,o)=>{var t;if(((t=o.Error)==null?void 0:t.Code)!==void 0)return o.Error.Code;if(e.statusCode==404)return"NotFound"};class kr extends kt.classBuilder().ep(Wt).m(function(o,t,u,f){return[$t(u,this.serialize,this.deserialize),Ft(u,o.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Qs).ser(tr).de(sr).build(){}class cn extends kt.classBuilder().ep(Wt).m(function(o,t,u,f){return[$t(u,this.serialize,this.deserialize),Ft(u,o.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Ds,er).ser(nr).de(rr).build(){}const $r={AssumeRoleCommand:kr,AssumeRoleWithWebIdentityCommand:cn};class Fr extends Ke{}Ps($r,Fr);const vt="us-east-1",Vr=e=>{if(typeof(e==null?void 0:e.Arn)=="string"){const o=e.Arn.split(":");if(o.length>4&&o[4]!=="")return o[4]}},Lr=async(e,o,t)=>{var P;const u=typeof e=="function"?await e():e,f=typeof o=="function"?await o():o;return(P=t==null?void 0:t.debug)==null||P.call(t,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${u} (provider)`,`${f} (parent client)`,`${vt} (STS default)`),u??f??vt},Mr=(e,o)=>{let t;return async u=>{var c,s,n,y;if(!t){const{logger:h=(c=e==null?void 0:e.parentClientConfig)==null?void 0:c.logger,region:x,requestHandler:w=(s=e==null?void 0:e.parentClientConfig)==null?void 0:s.requestHandler,credentialProviderLogger:S}=e,k=await Lr(x,(n=e==null?void 0:e.parentClientConfig)==null?void 0:n.region,S),l=!Wr(w);t=new o({profile:(y=e==null?void 0:e.parentClientConfig)==null?void 0:y.profile,region:k,requestHandler:l?w:void 0,logger:h})}const{Credentials:f,AssumedRoleUser:P}=await t.send(new cn(u));if(!f||!f.AccessKeyId||!f.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${u.RoleArn}`);const i=Vr(P),r={accessKeyId:f.AccessKeyId,secretAccessKey:f.SecretAccessKey,sessionToken:f.SessionToken,expiration:f.Expiration,...f.CredentialScope&&{credentialScope:f.CredentialScope},...i&&{accountId:i}};return i&&it(r,"RESOLVED_ACCOUNT_ID","T"),it(r,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),r}},Wr=e=>{var o;return((o=e==null?void 0:e.metadata)==null?void 0:o.handlerProtocol)==="h2"},qr=(e,o)=>o?class extends e{constructor(u){super(u);for(const f of o)this.middlewareStack.use(f)}}:e,zr=(e={},o)=>Mr(e,qr(Ke,o));export{kt as $Command,kr as AssumeRoleCommand,Qs as AssumeRoleResponseFilterSensitiveLog,cn as AssumeRoleWithWebIdentityCommand,Ds as AssumeRoleWithWebIdentityRequestFilterSensitiveLog,er as AssumeRoleWithWebIdentityResponseFilterSensitiveLog,Zt as CredentialsFilterSensitiveLog,Je as ExpiredTokenException,tt as IDPCommunicationErrorException,De as IDPRejectedClaimException,et as InvalidIdentityTokenException,Ze as MalformedPolicyDocumentException,Ye as PackedPolicyTooLargeException,Qe as RegionDisabledException,Fr as STS,Ke as STSClient,X as STSServiceException,jn as __Client,zr as getDefaultRoleAssumerWithWebIdentity};
